(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{122:function(e,t,n){e.exports=n(222)},127:function(e,t,n){},140:function(e,t){},142:function(e,t){},175:function(e,t){},176:function(e,t){},182:function(e,t){},221:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(49),i=n.n(o),c=n(72),s=(n(127),n(14)),l=n(10),u=n(12),d=n.n(u),b=n(36),p=n(5),h=n(6),m=n(8),v=n(7),g=n(3),y=n(9),f=function(e,t){var n=e;return t.forEach((function(e){var t=Object.keys(e),a=Object.values(e);a&&(n=n.concat("&".concat(t,"="),a))})),n},k=function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(fetch("https://opentdb.com/api_token.php?command=request"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},O=function(e){var t,n,a,r,o,i=arguments;return d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:5,n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",r=f("https://opentdb.com/api.php?",[{category:n},{difficulty:a},{amount:t},{token:e}]),c.next=7,d.a.awrap(fetch(r));case 7:return o=c.sent,c.abrupt("return",o.json());case 9:case"end":return c.stop()}}))},j=n(50),x=n.n(j),E=n(26),w=n(27),C=n(13);function T(){var e=Object(E.a)(["\n    border: 2px solid var(--color-primary);\n\n    i {\n      color: ",";\n    }\n  "]);return T=function(){return e},e}function I(){var e=Object(E.a)(["\n  background-color: var(--color-white);\n  border: 2px solid var(--color-white);\n  border-radius: 8px;\n  width: 100%;\n  padding-left: 16px;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n\n  & + div {\n    margin-top: 8px;\n  }\n\n  i {\n    font-size: 1.25rem;\n    color: var(--color-primary);\n  }\n  \n  input {\n    background-color: transparent;\n    color: var(--color-primary);\n    flex: 1;\n    border: 0;\n    box-shadow: none;\n    outline: none;\n    padding: 16px;\n  }\n  \n  input::placeholder {\n    text-transform: capitalize;\n  }\n\n  ","\n"]);return I=function(){return e},e}var S=Object(C.a)("--color-secondary","#F65A5B").toString(),L=w.b.div(I(),(function(e){return e.isFocused&&Object(w.a)(T(),Object(C.b)(.1,S))})),N=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={isFocused:!1},n.handleFocus=n.handleFocus.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"handleFocus",value:function(){this.setState((function(e){return{isFocused:!e.isFocused}}))}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.type,a=e.dataTestId,o=e.handleChange,i=e.classIcon,c=this.state.isFocused;return r.a.createElement(L,{isFocused:c},r.a.createElement("i",{className:"".concat(i)}),r.a.createElement("input",{name:t,onFocus:this.handleFocus,onBlur:this.handleFocus,onChange:o,type:n,placeholder:t,"aria-label":t,required:!0,"data-testid":a,autoComplete:"off"}))}}]),t}(a.Component);N.defaultProps={type:"text",dataTestId:"",classIcon:""};var q=N,A=/\b[\w.-]+@[\w.-]+\.\w{2,4}\b/gi;function R(){var e=Object(E.a)(["\n  padding: 12px 16px;\n  font-weight: 700;\n  border: none;\n  border-radius: 8px;\n  margin-top: 8px;\n  width: 100%;\n  \n  &:hover, &:active {\n    background-color: ",";\n    color: var(--color-white);\n  }\n  \n  &.button-primary {\n    background-color: var(--color-primary);\n    color: var(--color-white);\n  }\n\n  &.button-primary:hover {\n    background-color: ",";\n  }\n\n  &.button-primary:disabled {\n    background-color: ",";\n  }\n\n  &.button-outline-primary {\n    background: var(--color-primary);\n    color: var(--color-primary);\n    border: 1px solid var(--color-primary);\n  }\n\n  &.button-outline-primary:hover {\n    color: ",";\n  }\n\n  &.button-outline-primary:disabled {\n    color: ",";\n  }\n\n  &.button-secondary {\n    background-color: var(--color-secondary);\n    color: var(--color-white);\n    border: 1px solid var(--color-secondary);\n  }\n\n  &.button-secondary:hover {\n    background-color: ",";\n  }\n\n  &.button-secondary:disabled {\n    background-color: ",";\n  }\n\n  &.button-outline-primary {\n    background: transparent;\n    color: var(--color-primary);\n    border: 2px solid var(--color-primary);\n  }\n\n  &.button-outline-primary:hover {\n    background-color: var(--color-primary);\n    color: var(--color-white);\n  }\n\n  &.button-outline-primary:disabled {\n    color: ",";\n  }\n\n  &.button-outline-secondary {\n    background: var(--color-primary);\n    color: var(--color-secondary);\n    border: 2px solid var(--color-secondary);\n  }\n\n  &.button-outline-secondary:hover {\n    background-color: var(--color-secondary);\n    color: var(--color-white);\n  }\n\n  &.button-outline-secondary:disabled {\n    color: ",";\n  }\n  \n  &.rounded {\n    width: initial;\n    font-size: 1.25rem;\n    margin: 0;\n    border-radius: 50%;\n  }\n  \n  &.border-incorrect {\n    border: 3px solid red;\n  }\n\n  &.border-correct {\n    border: 3px solid rgb(6, 240, 15);\n  }\n"]);return R=function(){return e},e}var D=Object(C.a)("--color-primary","#204056").toString(),F=Object(C.a)("--color-secondary","#F65A5B").toString(),B=w.b.button(R(),Object(C.b)(.1,D),Object(C.b)(.1,D),Object(C.b)(.4,D),Object(C.b)(.1,D),Object(C.b)(.4,D),Object(C.b)(.1,F),Object(C.b)(.4,F),Object(C.b)(.4,D),Object(C.b)(.4,F)),P=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getSubmit",value:function(){var e=this.props,t=e.text,n=e.dataTestId,a=e.handleClick,o=e.disabled,i=e.classIcon,c=e.key,s=e.id,l=this.isRounded();return r.a.createElement(B,{key:c,id:s,className:l,onClick:a,type:"submit","data-testid":n,disabled:o},t,r.a.createElement("i",{className:"".concat(i)}))}},{key:"getButton",value:function(){var e=this.props,t=e.text,n=e.dataTestId,a=e.handleClick,o=e.disabled,i=e.classIcon,c=e.key,s=e.id,l=this.isRounded();return r.a.createElement(B,{key:c,id:s,className:l,onClick:a,type:"button","data-testid":n,disabled:o},t,r.a.createElement("i",{className:"".concat(i)}))}},{key:"isRounded",value:function(){var e=this.props,t=e.isRounded,n=e.classList;return t?n.concat(" rounded"):n}},{key:"render",value:function(){return"submit"===this.props.type?this.getSubmit():this.getButton()}}]),t}(a.Component);P.defaultProps={id:"",text:"",classIcon:"",dataTestId:"",handleClick:function(){},disabled:!1,isRounded:!1};var Q=P,J=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={name:"",email:"",redirectPlay:!1,redirectSettings:!1},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.submit=n.submit.bind(Object(g.a)(n)),n.validation=n.validation.bind(Object(g.a)(n)),n.handleRedirect=n.handleRedirect.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(b.a)({},n,a))}},{key:"handleRedirect",value:function(){this.setState({redirectSettings:!0})}},{key:"validation",value:function(){var e=this.state,t=e.name,n=e.email,a=t.length>=3,r=n.match(A);return!(a&&r)}},{key:"submit",value:function(e){var t,n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=this.state,n=t.name,a=t.email,(0,this.props.toLogin)(n,a),r.next=6,d.a.awrap(this.saveToken());case 6:this.setState({redirectPlay:!0});case 7:case"end":return r.stop()}}),null,this)}},{key:"saveToken",value:function(){var e,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(k());case 2:e=n.sent,t=e.token,localStorage.setItem("token",t);case 5:case"end":return n.stop()}}))}},{key:"render",value:function(){var e=this.state,t=e.redirectPlay,n=e.redirectSettings;return t?r.a.createElement(l.a,{to:"/questions"}):n?r.a.createElement(l.a,{to:"/settings"}):r.a.createElement("section",{className:"container login-container"},r.a.createElement(Q,{type:"button",classIcon:"bi bi-gear",handleClick:this.handleRedirect,dataTestId:"btn-settings",classList:"button-outline-secondary",isRounded:!0,key:"settings"}),r.a.createElement("form",{onSubmit:this.submit},r.a.createElement("img",{src:x.a,alt:"logo trivia",className:"trivia-logo"}),r.a.createElement(q,{name:"name",type:"text",dataTestId:"input-player-name",handleChange:this.handleChange,classIcon:"bi bi-person-circle"}),r.a.createElement(q,{name:"email",type:"email",dataTestId:"input-gravatar-email",handleChange:this.handleChange,classIcon:"bi bi-envelope"}),r.a.createElement(Q,{text:"Jogar",type:"submit",dataTestId:"btn-play",disabled:this.validation(),classList:"button-primary",key:"Jogar"})))}}]),t}(a.Component),_=Object(s.b)(null,(function(e){return{toLogin:function(t,n){return e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{type:"PLAYER",payload:{name:e,gravatarEmail:t,assertions:n,score:a}}}(t,n))}}}))(J),z=n(51),M=n.n(z);function G(){var e=Object(E.a)(["\n  color: var(--color-white);\n  padding: 8px 0 8px 0;\n  border-radius: 8px;\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  \n  &.badge-primary > span:first-child {\n    background-color: var(--color-primary);\n  }\n\n  &.badge-primary > span:last-child {\n    background-color: var(--color-secondaryy);\n  }\n\n  &.badge-secondary > span:first-child {\n    background-color: var(--color-secondary);\n  }\n\n  &.badge-secondary > span:last-child {\n    background-color: var(--color-primary);\n  }\n\n  &.badge-primary-white > span:first-child {\n    background-color: var(--color-primary);\n  }\n  \n  &.badge-primary-white > span:last-child {\n    background-color: var(--color-white);\n    color: var(--color-primary);\n  }\n  \n  span {\n    padding: 8px 12px;\n  }\n  \n  span:first-child {\n    font-weight: 700;\n    border-radius: 8px 0 0 8px;\n    flex-basis: 130px;\n    flex-grow: 0;\n  }\n  \n  span:last-child {\n    border-radius: 0 8px 8px 0;\n    flex-grow: 1;\n    white-space:nowrap;\n    overflow:hidden;\n    text-overflow:ellipsis;\n  }\n  \n  i {\n    margin-right: 8px;\n  }\n\n  &.exact {\n    padding: 0;\n  }\n  \n  &.exact > span {\n    flex-basis: initial;\n    flex-grow: 0;\n  }\n  \n  &.small > span {\n    font-size: 12px;\n  }\n  \n  &.no-icon i {\n    margin: 0;\n  }\n"]);return G=function(){return e},e}var H=w.b.div(G()),W=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataTestId,n=e.text,a=e.value,o=e.classIcon,i=e.classList;return r.a.createElement(H,{className:i},r.a.createElement("span",null,r.a.createElement("i",{className:o}),n),r.a.createElement("span",{"data-testid":t},a))}}]),t}(a.Component);W.defaultProps={dataTestId:"",classIcon:""};var K=W,Y=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"convertEmailToHash",value:function(e){var t=M()(e).toString();return"https://www.gravatar.com/avatar/".concat(t)}},{key:"render",value:function(){var e=this.props.player,t=e.name,n=e.gravatarEmail,a=e.score;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:x.a,alt:"Logo do Trivia"}),r.a.createElement("div",{className:"box-score"},r.a.createElement("img",{src:this.convertEmailToHash(n),alt:"Avatar do Player","data-testid":"header-profile-picture"}),r.a.createElement("div",{className:"box-score-badges"},r.a.createElement(K,{text:"Jogador",value:t,classList:"badge-secondary",classIcon:"bi bi-person-fill",dataTestId:"header-player-name"}),r.a.createElement(K,{text:"Score",value:a,classIcon:"bi bi-trophy-fill",classList:"badge-secondary",dataTestId:"header-score"})))))}}]),t}(a.Component),U=Object(s.b)((function(e){return{player:e.player}}))(Y),$=n(52),V=n(53),X=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(g.a)(n)),n.getButtonCorrectAnswer=n.getButtonCorrectAnswer.bind(Object(g.a)(n)),n.getButtonIncorrectAnswer=n.getButtonIncorrectAnswer.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getButtonCorrectAnswer",value:function(e,t){var n=this.props.selected,a="";return void 0!==n&&(a="border-correct"),r.a.createElement("div",null,r.a.createElement(Q,{id:"correct-answer",classList:a,dataTestId:"correct-answer",type:"button",handleClick:this.handleClick,value:t,disabled:n,text:Object(V.decode)(t),key:"correct-answer-button"}))}},{key:"getButtonIncorrectAnswer",value:function(e,t){var n=this.props.selected,a="";return void 0!==n&&(a="border-incorrect"),r.a.createElement("div",null,r.a.createElement(Q,{key:e,id:"incorrect-answer",classList:a,dataTestId:"wrong-answer-".concat(e),type:"button",handleClick:this.handleClick,value:t,disabled:n,text:Object(V.decode)(t)}))}},{key:"getQuestion",value:function(e,t){return[e].concat(Object($.a)(t)).sort()}},{key:"handleClick",value:function(e){(0,this.props.selectedAnswer)(e)}},{key:"render",value:function(){var e=this,t=this.props.questionData,n=t.category,a=t.question,o=t.difficulty,i=t.correct_answer,c=t.incorrect_answers,s=this.getQuestion(i,c);return r.a.createElement("div",null,r.a.createElement("h2",{"data-testid":"question-text"},Object(V.decode)(a)),s.map((function(t,n){return t===i?e.getButtonCorrectAnswer(n,t):e.getButtonIncorrectAnswer(n,t)})),r.a.createElement("div",{className:"box-question-opt"},r.a.createElement(K,{text:"Category",value:n,classList:"badge-primary-white exact small no-icon",dataTestId:"question-category"}),r.a.createElement(K,{text:"Difficulty",value:o,classList:"badge-primary-white exact small no-icon"})))}}]),t}(a.Component);function Z(){var e=Object(E.a)(["\n  font-weight: 700;\n  border: 1px solid var(--color-secondary);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  float: right;\n"]);return Z=function(){return e},e}var ee=w.b.div(Z()),te=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(v.a)(t).call(this))).timer=0,e.startTimer=e.startTimer.bind(Object(g.a)(e)),e.countDown=e.countDown.bind(Object(g.a)(e)),e.upDate=e.upDate.bind(Object(g.a)(e)),e}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.upDate()}},{key:"componentDidUpdate",value:function(){!0===this.props.selected&&this.stopTimer()}},{key:"upDate",value:function(){var e=this.props,t=e.seconds;(0,e.updateTimer)(t)}},{key:"startTimer",value:function(){var e=this.props.seconds;0===this.timer&&e>0&&(this.timer=setInterval(this.countDown,1e3))}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.timer=0}},{key:"countDown",value:function(){var e=this.props,t=e.seconds-1;(0,e.updateTimer)(t),0===t&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props.seconds;return this.startTimer(),r.a.createElement(ee,null,r.a.createElement(K,{text:"",value:e,classList:"badge-primary-white exact no-icon",classIcon:"bi bi-stopwatch-fill"}))}}]),t}(a.Component),ne=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={questions:void 0,questionIndex:0,selected:void 0,seconds:30,redirectToFeedback:!1},n.score=0,n.assertions=0,n.loadQuestions=n.loadQuestions.bind(Object(g.a)(n)),n.nextQuestion=n.nextQuestion.bind(Object(g.a)(n)),n.selectedAnswer=n.selectedAnswer.bind(Object(g.a)(n)),n.updateTimer=n.updateTimer.bind(Object(g.a)(n)),n.time=n.time.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadQuestions()}},{key:"getNextButton",value:function(){var e=this,t=this.state;return t.questionIndex>=t.questions.length-1?r.a.createElement(Q,{text:"Finalizar",type:"button",dataTestId:"btn-next",handleClick:function(){return e.setState({redirectToFeedback:!0})},classList:"button-primary",key:"Finalizar"}):r.a.createElement(Q,{text:"Proximo",type:"button",dataTestId:"btn-next",handleClick:this.nextQuestion,classList:"button-primary",key:"Proximo"})}},{key:"getScoreDifficulty",value:function(e){switch(e.toLowerCase()){case"easy":return 1;case"medium":return 2;case"hard":return 3;default:return 1}}},{key:"calculateScore",value:function(e){var t=this.state,n=t.seconds,a=t.questions,r=t.questionIndex,o=e.target.id,i=a[r].difficulty;if("correct-answer"===o){var c=this.getScoreDifficulty(i);this.assertions+=1,this.score+=10+n*c}(0,this.props.toScore)(this.assertions,this.score)}},{key:"nextQuestion",value:function(){this.setState((function(e){return{questionIndex:e.questionIndex+1,selected:void 0,seconds:30}}))}},{key:"updateTimer",value:function(e){this.setState({seconds:e}),0===e&&this.setState({selected:!0})}},{key:"time",value:function(){var e=this.state,t=e.seconds,n=e.selected;return r.a.createElement(te,{seconds:t,selected:n,updateTimer:this.updateTimer})}},{key:"selectedAnswer",value:function(e){this.setState({selected:!0}),this.calculateScore(e)}},{key:"loadQuestions",value:function(){var e,t,n,a,r,o;return d.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props.settings,t=e.category,n=e.quantity,a=e.difficulty,r=this.loadToken(),i.next=5,d.a.awrap(O(r,n,t,a));case 5:o=i.sent,this.setState({questions:o.results});case 7:case"end":return i.stop()}}),null,this)}},{key:"loadToken",value:function(){return localStorage.getItem("token")}},{key:"render",value:function(){var e=this.state,t=e.questions,n=e.questionIndex,a=e.selected;return e.redirectToFeedback?r.a.createElement(l.a,{to:"/feedback"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement("div",{className:"container box-accent"},this.time(),t&&r.a.createElement(X,{nextQuestion:this.nextQuestion,questionData:t[n],selected:a,selectedAnswer:this.selectedAnswer}),a&&this.getNextButton()))}}]),t}(a.Component),ae=Object(s.b)((function(e){return{settings:e.settings}}),(function(e){return{toScore:function(t,n){return e(function(e,t){return{type:"SCORE",payload:{assertions:e,score:t}}}(t,n))}}}))(ne),re=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={redirectToLogin:!1},n.redirectToLogin=n.redirectToLogin.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"redirectToLogin",value:function(){this.setState({redirectToLogin:!0})}},{key:"render",value:function(){var e=this.props.ranking;return this.state.redirectToLogin?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"container box-accent box-feedback"},r.a.createElement("h1",{"data-testid":"ranking-title"}," Ranking "),r.a.createElement("ul",null,e.sort((function(e,t){return t.score-e.score})).map((function(e,t){var n=e.name,a=e.score,o=e.picture;return r.a.createElement("li",{key:"".concat(t,"\xaa Posi\xe7\xe3o")},r.a.createElement("div",null,r.a.createElement("img",{src:o,alt:"Avatar do Player"})),r.a.createElement("span",{"data-testid":"player-name-".concat(t)},n),r.a.createElement("span",{"data-testid":"player-score-".concat(t)},a))}))),r.a.createElement("div",{className:"box-feedback-button"},r.a.createElement(Q,{text:"Jogar novamente",key:"button-play-again",type:"button",classList:"button-primary",dataTestId:"btn-go-home",handleClick:this.redirectToLogin})))}}]),t}(a.Component),oe=Object(s.b)((function(e){return{ranking:e.ranking}}),null)(re),ie=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={redirectToLogin:!1,redirectToRanking:!1},n.getAssertion=n.getAssertion.bind(Object(g.a)(n)),n.redirectToLogin=n.redirectToLogin.bind(Object(g.a)(n)),n.redirectToRanking=n.redirectToRanking.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getAssertion",value:function(){var e=this.props.player.assertions;return e>=3?"Mandou bem!":e<3?"Podia ser melhor...":void 0}},{key:"getAssertionsText",value:function(e){switch(e){case 0:return"N\xe3o acertou nenhuma pergunta";default:return"Acertou ".concat(e," perguntas")}}},{key:"getBadges",value:function(e,t){return r.a.createElement("div",{className:"box-feedback-score"},r.a.createElement(K,{text:"Score",value:e,classList:"badge-primary-white",dataTestId:"feedback-total-score",classIcon:"bi bi-trophy-fill"}),r.a.createElement(K,{text:"Assertions",value:t,classList:"badge-primary-white",dataTestId:"feedback-total-question",classIcon:"bi bi-bullseye"}))}},{key:"convertEmailToHash",value:function(e){var t=M()(e).toString();return"https://www.gravatar.com/avatar/".concat(t)}},{key:"redirectToRanking",value:function(){var e=this.props,t=e.player,n=t.name,a=t.score,r=t.gravatarEmail;(0,e.toRanking)({name:n,score:a,picture:this.convertEmailToHash(r)}),this.setState({redirectToRanking:!0})}},{key:"redirectToLogin",value:function(){this.setState({redirectToLogin:!0})}},{key:"render",value:function(){var e=this.props.player,t=e.score,n=e.assertions,a=this.state,o=a.redirectToLogin,i=a.redirectToRanking;return o?r.a.createElement(l.a,{to:"/"}):i?r.a.createElement(l.a,{to:"/ranking"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement("div",{className:"container box-accent box-feedback"},r.a.createElement("h1",null," Feedback "),r.a.createElement("div",{className:"box-feedback__flex"},this.getBadges(t,n),r.a.createElement("div",{className:"box-feedback-assertions"},r.a.createElement("p",{"data-testid":"feedback-text"},this.getAssertion()))),r.a.createElement("div",{className:"box-feedback-button"},r.a.createElement(Q,{text:"Ranking",key:"button-ranking",type:"button",classList:"button-outline-primary",dataTestId:"btn-ranking",handleClick:this.redirectToRanking}),r.a.createElement(Q,{text:"Jogar novamente",key:"button-play-again",type:"button",classList:"button-primary",dataTestId:"btn-play-again",handleClick:this.redirectToLogin}))))}}]),t}(a.Component),ce=Object(s.b)((function(e){return{player:e.player}}),(function(e){return{toRanking:function(t){return e({type:"RANKING",payload:{name:(n=t).name,score:n.score,picture:n.picture}});var n}}}))(ie),se=(a.Component,n(76)),le=n.n(se),ue=(n(220),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={categories:void 0,category:9,difficulty:"easy",quantity:5,save:!1},n.loadCategories=n.loadCategories.bind(Object(g.a)(n)),n.getOptionsCategories=n.getOptionsCategories.bind(Object(g.a)(n)),n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleChangeCategory=n.handleChangeCategory.bind(Object(g.a)(n)),n.handleChangeDifficulty=n.handleChangeDifficulty.bind(Object(g.a)(n)),n.save=n.save.bind(Object(g.a)(n)),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadCategories()}},{key:"getSelectCategories",value:function(){return r.a.createElement(le.a,{name:"category",onChange:this.handleChangeCategory,options:this.getOptionsCategories(),placeholder:"Selecione uma categoria"})}},{key:"getOptionsCategories",value:function(){return this.state.categories.map((function(e){return{value:e.id,label:e.name}}))}},{key:"getOptionsDifficulty",value:function(){return["easy","medium","hard"]}},{key:"save",value:function(){var e=this.state,t=e.category,n=e.quantity,a={category:t,difficulty:e.difficulty,quantity:n};(0,this.props.toSettings)(a),this.setState({save:!0})}},{key:"loadCategories",value:function(){var e=this;(function(){var e,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(fetch("https://opentdb.com/api_category.php"));case 2:return e=n.sent,n.next=5,d.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t.trivia_categories);case 7:case"end":return n.stop()}}))})().then((function(t){e.setState({categories:t})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(b.a)({},n,a))}},{key:"handleChangeCategory",value:function(e){this.setState({category:e.value})}},{key:"handleChangeDifficulty",value:function(e){this.setState({difficulty:e.value})}},{key:"render",value:function(){var e=this.state,t=e.categories;return e.save?r.a.createElement(l.a,{to:"/"}):r.a.createElement("section",{className:"container login-container"},r.a.createElement("h1",{"data-testid":"settings-title"}," Configura\xe7\xf5es "),r.a.createElement("form",null,r.a.createElement(q,{name:"quantity",handleChange:this.handleChange}),t&&this.getSelectCategories(),r.a.createElement(le.a,{name:"difficulty",onChange:this.handleChangeDifficulty,options:this.getOptionsDifficulty(),placeholder:"Selecione uma dificuldade"}),r.a.createElement(Q,{text:"Salvar",type:"button",handleClick:this.save,classList:"button-primary",key:"Salvar-Settings"})))}}]),t}(a.Component)),de=Object(s.b)(null,(function(e){return{toSettings:function(t){return e({type:"SETTINGS",payload:{category:(n=t).category,quantity:n.quantity,difficulty:n.difficulty}});var n}}}))(ue);n(221);var be=function(){return r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/triviagame/",component:_}),r.a.createElement(l.b,{exact:!0,path:"/triviagame/questions",component:ae}),r.a.createElement(l.b,{exact:!0,path:"/triviagame/ranking",component:oe}),r.a.createElement(l.b,{exact:!0,path:"/triviagame/feedback",component:ce}),r.a.createElement(l.b,{exact:!0,path:"/triviagame/settings",component:de}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=n(29),he=n(120),me=n(121),ve=n(43),ge={name:"",gravatarEmail:"",assertions:0,score:0},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(localStorage.setItem("state",JSON.stringify({player:Object(ve.a)({},e,{},a)})),n){case"PLAYER":return{name:a.name,gravatarEmail:a.gravatarEmail,assertions:a.assertions,score:a.score};case"SCORE":return Object(ve.a)({},e,{assertions:a.assertions,score:a.score});default:return e}},fe=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(localStorage.setItem("ranking",JSON.stringify(Object(ve.a)({},e,{},a))),n){case"RANKING":return[].concat(Object($.a)(e),[{name:a.name,score:a.score,picture:a.picture}]);default:return e}},Oe={category:void 0,quantity:void 0,difficulty:void 0},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SETTINGS":return{category:a.category,quantity:a.quantity,difficulty:a.difficulty};default:return e}},xe=Object(pe.combineReducers)({player:ye,settings:je,ranking:ke}),Ee=Object(pe.createStore)(xe,Object(he.composeWithDevTools)(Object(pe.applyMiddleware)(me.a)));i.a.render(r.a.createElement(c.a,null,r.a.createElement(s.a,{store:Ee},r.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,n){e.exports=n.p+"static/media/trivia.466d153e.png"}},[[122,1,2]]]);
//# sourceMappingURL=main.030dbb48.chunk.js.map